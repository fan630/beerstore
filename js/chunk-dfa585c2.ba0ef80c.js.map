{"version":3,"sources":["webpack:///./src/views/shopping/Cart.vue?1afa","webpack:///./src/views/shopping/Cart.vue?3b67","webpack:///src/views/shopping/Cart.vue","webpack:///./src/views/shopping/Cart.vue?f09c","webpack:///./src/views/shopping/Cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","itemList","_v","_m","cart","carts","_l","item","key","id","removeCartItem","staticStyle","style","backgroundImage","product","_s","title","qty","origin_price","_e","price","total","final_total","directives","name","rawName","value","expression","domProps","target","composing","couponCode","addCouponCode","backtocustomer","staticRenderFns","data","computed","length","methods","$store","dispatch","$router","push","created","getCart","beforeDestroy","component"],"mappings":"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","file":"js/chunk-dfa585c2.ba0ef80c.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&id=ad82d012&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&id=ad82d012&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),(_vm.itemList !== 0)?_c('div',{staticClass:\"container\"},[_c('h2',{staticClass:\"text-center my-3\"},[_vm._v(\"今朝有酒今朝醉\")]),_c('div',{staticClass:\"row d-flex justify-content-center\"},[_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-hover\"},[_vm._m(0),(_vm.cart.carts.length)?_c('tbody',_vm._l((_vm.cart.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle text-center\"},[_c('a',{on:{\"click\":function($event){return _vm.removeCartItem(item.id)}}},[_c('i',{staticClass:\"fas fa-trash-alt\",staticStyle:{\"font-size\":\"20px\"},attrs:{\"aria-hidden\":\"true\"}})])]),_c('td',{staticClass:\"align-middle bg-cover box2\",style:({backgroundImage:\n                                        (\"url(\" + (item.product.imageUrl) + \")\")})}),_c('td',{staticClass:\"align-middle text-center\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(item.qty))]),_c('td',{staticClass:\"align-middle text-right\"},[_c('ul',[(item.product.origin_price)?_c('li',{staticClass:\"text-muted\"},[_c('del',[_vm._v(\" 原價:\"+_vm._s(item.product.origin_price)+\" \")])]):_vm._e(),_c('li',{staticClass:\"red\"},[_vm._v(\"特價:\"+_vm._s(item.product.price))])])]),_c('td',{staticClass:\"align-middle text-right\"},[_c('strong',[_vm._v(\"$\"+_vm._s(item.qty * item.product.price))])])])}),0):_vm._e(),_c('tfoot',[(_vm.cart.total)?_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"合計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"$\"+_vm._s(_vm.cart.total)+\" \")])]):_vm._e(),(_vm.cart.final_total !== _vm.cart.total)?_c('tr',[_vm._m(1),_c('td',{staticClass:\"text-right text-gold\"},[_c('h4',[_vm._v(\"$\"+_vm._s(_vm.cart.final_total))])])]):_vm._e()])]),_c('div',[_c('router-link',{staticClass:\"routerLink font-weight-bolder h5\",attrs:{\"to\":\"/coupon\"}},[_vm._v(\" ✦ 還沒有優惠碼? 來玩玩吧!! \")])],1),_c('div',{staticClass:\"input-group my-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.couponCode),expression:\"couponCode\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.couponCode)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.couponCode=$event.target.value},_vm.addCouponCode]}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addCouponCode}},[_vm._v(\" 輸入優惠碼 \")])])])])])])]):_vm._e(),(_vm.itemList)?_c('router-link',{staticClass:\"btn btn-primary text-white my-3 routerLink\",attrs:{\"to\":\"/checkout\",\"href\":\"#\",\"role\":\"button\"}},[_vm._v(\"前往結帳 \")]):_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"h2 my-5\"},[_vm._v(\"您目前沒有商品喔!\")]),_c('button',{staticClass:\"btn btn-outline-success mr-2\",on:{\"click\":_vm.backtocustomer}},[_vm._v(\"繼續選購 \")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"選項\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"150\"}},[_vm._v(\"商品圖片\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"250\"}},[_vm._v(\"商品名稱\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-right\",attrs:{\"width\":\"180\"}},[_vm._v(\"價錢\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"小計\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{staticClass:\"text-right text-success\",attrs:{\"colspan\":\"5\"}},[_c('strong',[_vm._v(\" 套用優惠券 \")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"cart\">\n        <loading :active.sync=\"isLoading\"></loading>\n        <div class=\"container\" v-if=\"itemList !== 0\">\n            <h2 class=\"text-center my-3\">今朝有酒今朝醉</h2>\n                <!-- 購買商品 -->\n                <div class=\"row d-flex justify-content-center\">\n                    <div class=\"col-md-10\">\n                        <div\n                            class=\"table-responsive\"\n                        >\n                            <table class=\"table table-hover\">\n                                <thead>\n                                    <tr>\n                                        <th >選項</th>\n                                        <th width=\"150\" class=\"text-center\">商品圖片</th>\n                                        <th width=\"250\" class=\"text-center\">商品名稱</th>\n                                        <th\n                                            class=\"text-right\"\n                                        >數量</th>\n                                        <th\n                                            width=\"180\"\n                                            class=\"text-right\"\n                                        >價錢</th>\n                                        <th\n                                            class=\"text-right\"\n                                        >小計</th>\n                                    </tr>\n                                </thead>\n                                <tbody v-if=\"cart.carts.length\">\n                                    <tr v-for=\"item in cart.carts\" :key=\"item.id\"\n                                        >\n                                        <td class=\"align-middle text-center\">\n                                            <a  @click=\"removeCartItem(item.id)\">\n                                                <i class=\"fas fa-trash-alt\"\n                                                    style='font-size:20px'\n                                                    aria-hidden=\"true\"\n                                                ></i>\n                                            </a>\n                                        </td>\n                                        <td\n                                            class=\"align-middle bg-cover box2\"\n                                            :style=\"{backgroundImage:\n                                            `url(${item.product.imageUrl})`}\"\n                                        >\n                                        </td>\n                                        <td class=\"align-middle text-center\">\n                                            {{item.product.title}}\n                                        </td>\n                                        <td class=\"align-middle text-right\">{{item.qty}}</td>\n                                        <td class=\"align-middle text-right\">\n                                            <ul>\n                                                <li class=\"text-muted\"\n                                                    v-if=\"item.product.origin_price\">\n                                                    <del>\n                                                        原價:{{item.product.origin_price}}\n                                                    </del>\n                                                </li>\n                                                <li class=\"red\">特價:{{item.product.price}}</li>\n                                            </ul>\n                                        </td>\n                                        <td class=\"align-middle text-right\">\n                                            <strong>${{item.qty * item.product.price}}</strong>\n                                        </td>\n                                    </tr>\n                                    </tbody>\n                                    <tfoot>\n                                        <tr v-if=\"cart.total\">\n                                            <td colspan=\"5\" class=\"text-right\">合計</td>\n                                            <td class=\"text-right\">${{ cart.total }}\n                                            </td>\n                                        </tr>\n                                        <tr v-if=\"cart.final_total !== cart.total\">\n                                            <td colspan=\"5\" class=\"text-right text-success\">\n                                                <strong>\n                                                    套用優惠券\n                                                </strong>\n                                            </td>\n                                            <td class=\"text-right text-gold\">\n                                                <h4>${{ cart.final_total }}</h4>\n                                            </td>\n                                        </tr>\n                                    </tfoot>\n                            </table>\n                            <div>\n                                <router-link to=\"/coupon\" class=\"routerLink font-weight-bolder h5\">\n                                ✦ 還沒有優惠碼? 來玩玩吧!!\n                                </router-link>\n                            </div>\n                            <div class=\"input-group my-3\">\n                                <input type=\"text\" class=\"form-control\"\n                                       v-model=\"couponCode\"\n                                       @input=\"addCouponCode\"\n                                       placeholder=\"請輸入優惠碼\"\n                                />\n                                <div class=\"input-group-append\">\n                                    <button class=\"btn btn-secondary\" type=\"button\"\n                                        @click=\"addCouponCode\">\n                                        輸入優惠碼\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                  </div>\n            </div>\n        </div>\n        <router-link to=\"/checkout\"\n            class=\"btn btn-primary text-white my-3 routerLink\"\n            href=\"#\" role=\"button\" v-if=\"itemList\">前往結帳\n        </router-link>\n        <div class=\"container\" v-else>\n            <div class=\"h2 my-5\">您目前沒有商品喔!</div>\n            <button\n                class=\"btn btn-outline-success mr-2\"\n                @click=\"backtocustomer\"\n            >繼續選購\n            </button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { eventBus } from '../../main';\n\nexport default {\n  name: 'Cart',\n  data() {\n    return {\n      couponCode: '',\n    };\n  },\n  computed: {\n    ...mapGetters(['cart', 'isLoading']),\n    itemList() {\n      return this.cart.carts.length;\n    },\n  },\n  methods: {\n    ...mapActions(['getCart']),\n\n    removeCartItem(id) {\n      this.$store.dispatch('removeCartItem', id);\n    },\n    addCouponCode() {\n      this.$store.dispatch('addCouponCode', this.couponCode);\n      this.couponCode = '';\n    },\n    backtocustomer() {\n      this.$router.push('/shop');\n    },\n  },\n  created() {\n    this.getCart();\n    eventBus.$on('getCouponed', (couponNumber) => {\n      this.couponCode = couponNumber;\n      if (this.cart.carts.length) {\n        this.$bus.$emit('message:push', '優惠碼已填入, 請點選輸入優惠碼', 'success');\n      } else {\n        this.$bus.$emit('message:push', '請先選購商品', 'warning');\n      }\n    });\n  },\n  beforeDestroy() {\n    eventBus.$off('getCouponed');\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n    .cart{\n        min-height:100vh;\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=ad82d012&scoped=true&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&id=ad82d012&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad82d012\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}