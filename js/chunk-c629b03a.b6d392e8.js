(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c629b03a"],{4396:function(t,e,i){"use strict";var o=i("4d8d"),a=i.n(o);a.a},"46fa":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i("div",{staticClass:"container"},[i("nav",{attrs:{"aria-label":"breadcrumb"}},[i("ol",{staticClass:"breadcrumb"},[i("li",{staticClass:"breadcrumb-item"},[i("router-link",{attrs:{to:"/shop"}},[t._v("Shop")])],1),i("li",{staticClass:"breadcrumb-item active"},[t._v(" "+t._s(t.product.category)+" ")]),i("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),i("div",{staticClass:"form-row"},[i("div",{staticClass:"col-md-5"},[i("img",{staticClass:"rounded",staticStyle:{height:"90%",width:"80%"},attrs:{src:t.product.imageUrl,alt:""}})]),i("div",{staticClass:"col-md-6 text-md-left text-center"},[i("h3",[t._v(t._s(t.product.title))]),i("div",{staticClass:"badge",class:["啤酒"==t.product.category?"badge-info":"badge-warning"]},[t._v(" "+t._s(t.product.category)+" ")]),i("blockquote",{staticClass:"blockquote text-right"},[i("p",{staticClass:"text-left"},[t._v(t._s(t.product.content))]),i("footer",{staticClass:"blockquote-footer"},[i("cite",[t._v(t._s(t.product.description))])])]),i("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[i("del",{staticClass:"h6 text-muted"},[t._v(" "+t._s(t.product.origin_price?"原價"+t.product.origin_price+"元":"")+" ")]),i("span",[t._v("特價"+t._s(t.product.price)+"元")])]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.product.buyNum,expression:"product.buyNum"}],staticClass:"form-control mt-3",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"buyNum",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select your option")]),t._l(5,(function(e){return i("option",{key:e,domProps:{value:e}},[t._v(" 選購 "+t._s(e)+t._s(t.product.unit)+" ")])}))],2),i("div",{staticClass:"h5 text-right mt-3 mb-4"},[t._v(" 小計 "),i("strong",[t._v(t._s(t.product.buyNum*t.product.price))]),t._v("元 ")]),i("div",{staticClass:"btn-group mb-5",attrs:{role:"group","aria-label":""}},[i("button",{staticClass:"btn btn-primary text-white",attrs:{type:"button"},on:{click:function(e){return t.addtoCart(t.product.id,t.product.buyNum)}}},[i("i",{staticClass:"fas fa-cart-plus"}),t._v(" 加入購物車 ")]),0==t.product.is_favorite?i("button",{staticClass:"btn btn-info text-white",attrs:{type:"button"},on:{click:function(e){return t.addtoFavorite(t.product)}}},[i("i",{staticClass:"fas fa-heart"}),t._v(" 加入我的最愛 ")]):i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.removeFavorite(t.product)}}},[i("i",{staticClass:"fas fa-heart"}),t._v(" 取消我的最愛 ")])])])]),this.relatedProduct.length>2?i("h3",{staticClass:"text-left"},[t._v("相關產品")]):i("h3",{staticClass:"text-left"},[t._v("沒有相關產品")]),i("hr")]),i("div",{staticClass:"container-fluid my-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"offset-md-1 col-md-10"},[this.relatedProduct.length>2?i("div",{staticClass:"form-row"},t._l(t.relatedProduct,(function(e){return i("div",{key:e.id,staticClass:"col-md mb-4 col-4",staticStyle:{padding:"0 1px"}},[i("div",{staticClass:"card"},[i("div",{staticClass:"u-item-img bg-cover",staticStyle:{height:"250px"},style:{backgroundImage:"url("+e.imageUrl+")"}},[i("a",{staticClass:"u-item-cover",on:{click:function(i){t.getProduct(e.id),t.scrollToTop()}}},[i("div",{staticClass:"u-item-btn"},[t._v("See more")])])])])])})),0):i("div",{staticClass:"form-row"})])])]),i("GoTop")],1)},a=[],r=(i("4de4"),i("4160"),i("159b"),i("5530")),s=i("2f62"),c=i("c12c"),n={name:"SingleProduct",components:{GoTop:c["a"]},data:function(){return{product:{},productId:"",selected:"請選購商品數量",isFavorite:!1,fullWidth:0}},computed:Object(r["a"])(Object(r["a"])({},Object(s["c"])(["favorites","products","cart","isLoading"])),{},{relatedProduct:function(){var t=this;return this.products.filter((function(e){return e.category===t.product.category}))}}),methods:Object(r["a"])(Object(r["a"])({},Object(s["b"])(["getFavorite","addtoFavorite","removeFavorite","getProducts","getCart"])),{},{getProduct:function(t){var e=this,i="https://vue-course-api.hexschool.io/api/fan630/product/".concat(t);this.$http.get(i).then((function(t){t.data.success&&(e.product=t.data.product,e.$set(e.product,"buyNum",1),e.$set(e.product,"is_favorite",!1),e.favorites.forEach((function(t){e.productId===t.id&&(e.product.is_favorite=!0)})))}))},addtoCart:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{id:t,qty:i}),setTimeout((function(){e.$router.push("/cart")}),1500)},addtoFavorite:function(t){this.product.is_favorite=!0,this.$store.dispatch("addtoFavorite",t)},removeFavorite:function(t){this.$store.dispatch("removeFavorite",t),this.product.is_favorite=!1},scrollToTop:function(){this.fullWidth<=500&&setTimeout((function(){window.scrollTo(0,400)}),1800)}}),created:function(){this.productId=this.$route.params.productId,this.getProduct(this.productId)},mounted:function(){var t=this;t.fullWidth=window.innerWidth,window.onresize=function(){t.fullWidth=window.innerWidth}}},d=n,u=(i("4396"),i("2877")),l=Object(u["a"])(d,o,a,!1,null,"3e9fb078",null);e["default"]=l.exports},"4d8d":function(t,e,i){},c12c:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("i",{staticClass:"fas fa-chevron-circle-up arrow fa-2x",on:{click:function(e){return e.preventDefault(),t.goTop(e)}}})])},a=[],r=i("1157"),s=i.n(r),c={name:"GoTop",data:function(){return{}},methods:{goTop:function(){s()("html,body").animate({scrollTop:0},"slow")}}},n=c,d=(i("f742"),i("2877")),u=Object(d["a"])(n,o,a,!1,null,"346ed973",null);e["a"]=u.exports},ddd1:function(t,e,i){},f742:function(t,e,i){"use strict";var o=i("ddd1"),a=i.n(o);a.a}}]);
//# sourceMappingURL=chunk-c629b03a.b6d392e8.js.map