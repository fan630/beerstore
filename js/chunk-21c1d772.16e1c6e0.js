(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21c1d772"],{"1f6a":function(t,e,a){"use strict";var s=a("d382"),r=a.n(s);r.a},ce09:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"container"},[a("div",{staticClass:"row d-flex justify-content-center mt-3 flex-row-reverse"},[a("div",{staticClass:"col-md-4 mb-5 md-mb-0"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body text-white"},[a("div",{staticClass:"cart-title h4"},[t._v("訂單摘要")]),a("table",{staticClass:"table table-sm"},t._l(t.cart.carts,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",{staticClass:"align-middle text-center"},[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.removeCartItem(e.id)}}},[a("i",{staticClass:"fas fa-trash-alt",attrs:{"aria-hidden":"true"}})])]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.total))])])])})),0)]),a("div",{staticClass:"card-footer"},[a("div",{staticClass:"d-flex justify-content-between mr-1"},[a("span",[t._v("小計")]),a("span",[t._v(t._s(t.cart.total))])]),a("div",{staticClass:"d-flex justify-content-between mr-1 text-success"},[a("span",[t._v("折扣後優惠")]),a("span",[t._v(t._s(t.cart.final_total))])])])])]),a("div",{staticClass:"col-md-8"},[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit;return[a("form",{on:{submit:function(e){return e.preventDefault(),s(t.createOrder)}}},[a("div",{staticClass:"h4 text-center mb-3"},[t._v(" 訂購人資訊 ")]),a("hr"),a("div",{staticClass:"form-row text-left"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{for:"#name"}},[t._v("姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",attrs:{type:"name",id:"name",placeholder:"姓名",required:""},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{for:"#email"}},[t._v("Email")]),a("ValidationProvider",{attrs:{rules:"email",immediate:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email",required:""},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),a("span",[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{for:"#tel"}},[t._v("聯繫方式")]),a("ValidationProvider",{attrs:{rules:"min:10|max:10",immediate:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"tel",placeholder:"手機聯繫方式",required:""},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),a("span",[t._v(t._s(s[0]))])]}}],null,!0)})],1)]),a("div",{staticClass:"form-group  text-left"},[a("label",{attrs:{for:"inputAddress"}},[t._v("地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",id:"inputAddress",placeholder:"請輸入地址",required:""},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}})]),a("div",{staticClass:"form-group my-3 text-left"},[a("label",{attrs:{for:"exampleFormControlTextarea1"}},[t._v("留言給我們")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{id:"exampleFormControlTextarea1",rows:"5"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),a("div",{staticClass:"d-flex justify-content-center my-3"},[a("button",{staticClass:"btn btn-primary text-white",attrs:{type:"submit"}},[t._v("送出訂單 ")])])])]}}])})],1)])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container my-4"},[a("div",{staticClass:"row text-center justify-content-center"},[a("div",{staticClass:"col-md-8 mb-3 md-mb-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"alert alert-warning border-rounded",attrs:{role:"alert"}},[t._v(" 輸入訂單資料 ")])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"alert alert-light border-rounded",attrs:{role:"alert"}},[t._v(" 付款 ")])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"alert alert-light border-rounded",attrs:{role:"alert"}},[t._v(" 完成 ")])])])])])])}],i=a("5530"),o=a("2f62"),l={name:"CheckOut",data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""}}},computed:Object(i["a"])({},Object(o["c"])(["cart","isLoading"])),methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["getCart"])),{},{removeCartItem:function(t){this.$store.dispatch("removeCartItem",t)},createOrder:function(){var t=this,e="https://vue-course-api.hexschool.io/api/fan630/order",a=this.form;this.isLoading=!0,this.$http.post(e,{data:a}).then((function(e){t.$bus.$emit("message:push",e.data.message,"warning"),t.$router.push("/checkout_pay/".concat(e.data.orderId)),t.getCart(),t.isLoading=!1}))}}),created:function(){this.getCart()}},n=l,d=(a("1f6a"),a("2877")),c=Object(d["a"])(n,s,r,!1,null,"b25a0c82",null);e["default"]=c.exports},d382:function(t,e,a){}}]);
//# sourceMappingURL=chunk-21c1d772.16e1c6e0.js.map