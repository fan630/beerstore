{"version":3,"sources":["webpack:///./src/views/shopping/CheckOutPay.vue?3b9e","webpack:///src/views/shopping/CheckOutPay.vue","webpack:///./src/views/shopping/CheckOutPay.vue?ac10","webpack:///./src/views/shopping/CheckOutPay.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","order","is_paid","attrs","_v","_l","item","key","id","style","backgroundImage","product","_s","title","qty","unit","final_total","total","user","email","name","tel","address","on","backtocustomer","payOrder","staticRenderFns","data","orderId","methods","getOrder","isLoading","$http","get","api","then","response","success","post","$router","push","created","$route","params","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,YAAY,CAAGN,EAAIQ,MAAMC,QAA8GL,EAAG,MAAM,CAACE,YAAY,mCAAmCI,MAAM,CAAC,KAAO,UAAU,CAACV,EAAIW,GAAG,UAA9LP,EAAG,MAAM,CAACE,YAAY,qCAAqCI,MAAM,CAAC,KAAO,UAAU,CAACV,EAAIW,GAAG,YAA+GP,EAAG,MAAM,CAACE,YAAY,YAAY,CAAEN,EAAIQ,MAAa,QAAEJ,EAAG,MAAM,CAACE,YAAY,qCAAqCI,MAAM,CAAC,KAAO,UAAU,CAACV,EAAIW,GAAG,UAAUP,EAAG,MAAM,CAACE,YAAY,mCAAmCI,MAAM,CAAC,KAAO,UAAU,CAACV,EAAIW,GAAG,oBAAoBP,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACN,EAAIW,GAAG,UAAUP,EAAG,QAAQ,CAACE,YAAY,oBAAoB,CAACN,EAAIO,GAAG,GAAGH,EAAG,QAAQJ,EAAIY,GAAIZ,EAAIQ,MAAc,UAAE,SAASK,GAAM,OAAOT,EAAG,KAAK,CAACU,IAAID,EAAKE,IAAI,CAACX,EAAG,KAAK,CAACE,YAAY,6BAA6BU,MAAM,CAAEC,gBAAkB,OAAUJ,EAAKK,QAAgB,SAAI,OAASd,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIW,GAAGX,EAAImB,GAAGN,EAAKK,QAAQE,UAAUhB,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIW,GAAGX,EAAImB,GAAGN,EAAKQ,KAAK,IAAIrB,EAAImB,GAAGN,EAAKK,QAAQI,SAASlB,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIW,GAAGX,EAAImB,GAAGN,EAAKU,qBAAoB,GAAGnB,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,eAAeI,MAAM,CAAC,QAAU,MAAM,CAACV,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACA,EAAG,SAAS,CAACJ,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIQ,MAAMgB,wBAAwBpB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACN,EAAIW,GAAG,UAAUP,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACM,MAAM,CAAC,MAAQ,QAAQ,CAACV,EAAIW,GAAG,WAAWP,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIQ,MAAMiB,KAAKC,YAAYtB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACM,MAAM,CAAC,MAAQ,QAAQ,CAACV,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIQ,MAAMiB,KAAKE,WAAWvB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACM,MAAM,CAAC,MAAQ,QAAQ,CAACV,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIQ,MAAMiB,KAAKG,UAAUxB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACM,MAAM,CAAC,MAAQ,QAAQ,CAACV,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIQ,MAAMiB,KAAKI,cAAczB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACM,MAAM,CAAC,MAAQ,QAAQ,CAACV,EAAIW,GAAG,UAAYX,EAAIQ,MAAMC,QAAmCL,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIW,GAAG,UAAvEP,EAAG,KAAK,CAACJ,EAAIW,GAAG,kBAAyEP,EAAG,MAAM,CAACE,YAAY,sCAAsC,CAAGN,EAAIQ,MAAMC,QAAoHL,EAAG,SAAS,CAACE,YAAY,+BAA+BwB,GAAG,CAAC,MAAQ9B,EAAI+B,iBAAiB,CAAC/B,EAAIW,GAAG,WAA5MP,EAAG,SAAS,CAACE,YAAY,oCAAoCwB,GAAG,CAAC,MAAQ9B,EAAIgC,WAAW,CAAChC,EAAIW,GAAG,sBAC/rFsB,EAAkB,CAAC,WAAa,IAAIjC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,mCAAmCI,MAAM,CAAC,KAAO,UAAU,CAACV,EAAIW,GAAG,iBAAiB,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACJ,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACJ,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACJ,EAAIW,GAAG,YC2I1c,GACEgB,KAAM,cACNO,KAFF,WAGI,MAAO,CACLC,QAAS,GACT3B,MAAO,CACLiB,KAAM,MAIZW,QAAS,CACPC,SADJ,WACA,WACA,+EACMpC,KAAKqC,WAAY,EACjBrC,KAAKsC,MAAMC,IAAIC,GAAKC,MAAK,SAA/B,GACYC,EAAST,KAAKU,QAChB,EAAV,mBAEU,EAAV,oDAEQ,EAAR,iBAGIZ,SAbJ,WAaA,WACA,6EACM/B,KAAKqC,WAAY,EACjBrC,KAAKsC,MAAMM,KAAKJ,GAAKC,MAAK,SAAhC,GACYC,EAAST,KAAKU,SAChB,EAAV,WAEQ,EAAR,iBAGIb,eAvBJ,WAwBM9B,KAAK6C,QAAQC,KAAK,WAGtBC,QArCF,WAsCI/C,KAAKkC,QAAUlC,KAAKgD,OAAOC,OAAOf,QAClClC,KAAKoC,aCnL2V,I,YCOhWc,EAAY,eACd,EACApD,EACAkC,GACA,EACA,KACA,KACA,MAIa,aAAAkB,E","file":"js/chunk-2d0ab0b6.35cdcc25.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container my-4\"},[_c('div',{staticClass:\"row text-center justify-content-center\"},[_c('div',{staticClass:\"col-md-8 mb-3 md-mb-0\"},[_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col-md-4\"},[(!_vm.order.is_paid)?_c('div',{staticClass:\"alert alert-warning border-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\" 付款 \")]):_c('div',{staticClass:\"alert alert-light border-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\" 付款 \")])]),_c('div',{staticClass:\"col-md-4\"},[(_vm.order.is_paid)?_c('div',{staticClass:\"alert alert-warning border-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\" 完成 \")]):_c('div',{staticClass:\"alert alert-light border-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\" 完成 \")])])])])])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row d-flex justify-content-center\"},[_c('div',{staticClass:\"col-md-8\"},[_c('h3',{staticClass:\"text-center my-4\"},[_vm._v(\"購買資訊\")]),_c('table',{staticClass:\"table text-right\"},[_vm._m(1),_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle bg-cover box2\",style:({backgroundImage: (\"url(\" + (item.product.imageUrl) + \")\")})}),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.final_total))])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"align-middle\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"總計\")]),_c('td',[_c('strong',[_vm._v(_vm._s(_vm.order.total))])])])])])])])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row d-flex justify-content-center\"},[_c('div',{staticClass:\"col-md-8\"},[_c('h3',{staticClass:\"text-center my-3\"},[_vm._v(\"個人資料\")]),_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table text-right\"},[_c('tbody',[_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"Email\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"付款狀態\")]),(!_vm.order.is_paid)?_c('td',[_vm._v(\"尚未付款\")]):_c('td',{staticClass:\"text-success\"},[_vm._v(\"付款完成\")])])])])]),_c('div',{staticClass:\"d-flex justify-content-center my-5\"},[(!_vm.order.is_paid)?_c('button',{staticClass:\"btn btn-primary text-white btn-lg\",on:{\"click\":_vm.payOrder}},[_vm._v(\"確認付款 \")]):_c('button',{staticClass:\"btn btn-outline-success mr-2\",on:{\"click\":_vm.backtocustomer}},[_vm._v(\"繼續選購 \")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"alert alert-light border-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\" 輸入訂單資料 \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',{staticClass:\"text-center\"},[_vm._v(\"產品\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"單價\")]),_c('th',[_vm._v(\"單價\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"container my-4\">\n        <div class=\"row text-center justify-content-center\">\n              <div class=\"col-md-8 mb-3 md-mb-0\">\n                  <div class=\"row\">\n                        <div class=\"col-md-4\">\n                        <div\n                          class=\"alert alert-light border-rounded\"\n                          role=\"alert\"\n                      >\n                          輸入訂單資料\n                      </div>\n                    </div>\n                    <div class=\"col-md-4\">\n                      <div\n                          v-if=\"!order.is_paid\"\n                          class=\"alert alert-warning border-rounded\"\n                          role=\"alert\"\n                      >\n                          付款\n                      </div>\n                      <div\n                          v-else\n                          class=\"alert alert-light border-rounded\"\n                          role=\"alert\"\n                      >\n                          付款\n                      </div>\n                    </div>\n                    <div class=\"col-md-4\">\n                      <div\n                          v-if=\"order.is_paid\"\n                          class=\"alert alert-warning border-rounded\"\n                          role=\"alert\"\n                      >\n                          完成\n                      </div>\n                      <div\n                          v-else\n                          class=\"alert alert-light border-rounded\"\n                          role=\"alert\"\n                      >\n                          完成\n                      </div>\n                    </div>\n                  </div>\n              </div>\n        </div>\n    </div>\n\n    <!-- 購買商品資訊 -->\n    <div class=\"container\">\n        <div class=\"row d-flex justify-content-center\">\n            <div class=\"col-md-8\">\n                <h3 class=\"text-center my-4\">購買資訊</h3>\n                <table class=\"table text-right\">\n                    <thead>\n                        <th class=\"text-center\">產品</th>\n                        <th>數量</th>\n                        <th>單價</th>\n                        <th>單價</th>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"item in order.products\" :key=\"item.id\">\n                            <td class=\"align-middle bg-cover box2\"\n                                :style = \"{backgroundImage: `url(${item.product.imageUrl})`}\"\n                            >\n                            </td>\n                            <td class=\"align-middle\">{{ item.product.title }}</td>\n                            <td class=\"align-middle\">{{ item.qty }}/{{ item.product.unit }}</td>\n                            <td class=\"align-middle\">{{ item.final_total }}</td>\n                        </tr>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <td colspan=\"3\" class=\"align-middle\">總計</td>\n                            <td>\n                                <strong>{{ order.total }}</strong>\n                            </td>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n    </div>\n    <!-- 訂購人資訊-->\n    <div class=\"container\">\n        <div class=\"row d-flex justify-content-center\">\n            <div class=\"col-md-8\">\n                <h3 class=\"text-center my-3\">個人資料</h3>\n                <div class=\"table-responsive\">\n                    <table class=\"table text-right\">\n                        <tbody>\n                            <tr>\n                                <th scope=\"row\">Email</th>\n                                <td>{{order.user.email}}</td>\n                            </tr>\n                            <tr>\n                                <th scope=\"row\">姓名</th>\n                                <td>{{order.user.name}}</td>\n                            </tr>\n                            <tr>\n                                <th scope=\"row\">電話</th>\n                                <td>{{order.user.tel}}</td>\n                            </tr>\n                            <tr>\n                                <th scope=\"row\">地址</th>\n                                <td>{{order.user.address}}</td>\n                            </tr>\n                             <tr>\n                                <th scope=\"row\">付款狀態</th>\n                                <td v-if=\"!order.is_paid\">尚未付款</td>\n                                <td v-else class=\"text-success\">付款完成</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div class=\"d-flex justify-content-center my-5\">\n                    <button\n                        v-if=\"!order.is_paid\"\n                        class=\"btn btn-primary text-white btn-lg\"\n                        @click=\"payOrder\"\n                    >確認付款\n                    </button>\n                    <button\n                        v-else\n                        class=\"btn btn-outline-success mr-2\"\n                        @click=\"backtocustomer\"\n                    >繼續選購\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'CheckOutPay',\n  data() {\n    return {\n      orderId: '',\n      order: {\n        user: {},\n      },\n    };\n  },\n  methods: {\n    getOrder() {\n      const api = `https://vue-course-api.hexschool.io/api/fan630/order/${this.orderId}`;\n      this.isLoading = true;\n      this.$http.get(api).then((response) => {\n        if (response.data.success) {\n          this.order = response.data.order;\n        } else {\n          this.$bus.$emit('message:push', response.data.message, 'warning');\n        }\n        this.isLoading = false;\n      });\n    },\n    payOrder() {\n      const api = `https://vue-course-api.hexschool.io/api/fan630/pay/${this.orderId}`;\n      this.isLoading = true;\n      this.$http.post(api).then((response) => {\n        if (response.data.success) {\n          this.getOrder();\n        }\n        this.isLoading = false;\n      });\n    },\n    backtocustomer() {\n      this.$router.push('/shop');\n    },\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    this.getOrder();\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOutPay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOutPay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckOutPay.vue?vue&type=template&id=0a089b5b&\"\nimport script from \"./CheckOutPay.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckOutPay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}