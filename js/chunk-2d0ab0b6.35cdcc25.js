(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab0b6"],{1430:function(t,s,e){"use strict";e.r(s);var r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"container my-4"},[e("div",{staticClass:"row text-center justify-content-center"},[e("div",{staticClass:"col-md-8 mb-3 md-mb-0"},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-4"},[t.order.is_paid?e("div",{staticClass:"alert alert-light border-rounded",attrs:{role:"alert"}},[t._v(" 付款 ")]):e("div",{staticClass:"alert alert-warning border-rounded",attrs:{role:"alert"}},[t._v(" 付款 ")])]),e("div",{staticClass:"col-md-4"},[t.order.is_paid?e("div",{staticClass:"alert alert-warning border-rounded",attrs:{role:"alert"}},[t._v(" 完成 ")]):e("div",{staticClass:"alert alert-light border-rounded",attrs:{role:"alert"}},[t._v(" 完成 ")])])])])])]),e("div",{staticClass:"container"},[e("div",{staticClass:"row d-flex justify-content-center"},[e("div",{staticClass:"col-md-8"},[e("h3",{staticClass:"text-center my-4"},[t._v("購買資訊")]),e("table",{staticClass:"table text-right"},[t._m(1),e("tbody",t._l(t.order.products,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"align-middle bg-cover box2",style:{backgroundImage:"url("+s.product.imageUrl+")"}}),e("td",{staticClass:"align-middle"},[t._v(t._s(s.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(s.qty)+"/"+t._s(s.product.unit))]),e("td",{staticClass:"align-middle"},[t._v(t._s(s.final_total))])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"align-middle",attrs:{colspan:"3"}},[t._v("總計")]),e("td",[e("strong",[t._v(t._s(t.order.total))])])])])])])])]),e("div",{staticClass:"container"},[e("div",{staticClass:"row d-flex justify-content-center"},[e("div",{staticClass:"col-md-8"},[e("h3",{staticClass:"text-center my-3"},[t._v("個人資料")]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table text-right"},[e("tbody",[e("tr",[e("th",{attrs:{scope:"row"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("付款狀態")]),t.order.is_paid?e("td",{staticClass:"text-success"},[t._v("付款完成")]):e("td",[t._v("尚未付款")])])])])]),e("div",{staticClass:"d-flex justify-content-center my-5"},[t.order.is_paid?e("button",{staticClass:"btn btn-outline-success mr-2",on:{click:t.backtocustomer}},[t._v("繼續選購 ")]):e("button",{staticClass:"btn btn-primary text-white btn-lg",on:{click:t.payOrder}},[t._v("確認付款 ")])])])])])])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"alert alert-light border-rounded",attrs:{role:"alert"}},[t._v(" 輸入訂單資料 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("th",{staticClass:"text-center"},[t._v("產品")]),e("th",[t._v("數量")]),e("th",[t._v("單價")]),e("th",[t._v("單價")])])}],i={name:"CheckOutPay",data:function(){return{orderId:"",order:{user:{}}}},methods:{getOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/fan630/order/".concat(this.orderId);this.isLoading=!0,this.$http.get(s).then((function(s){s.data.success?t.order=s.data.order:t.$bus.$emit("message:push",s.data.message,"warning"),t.isLoading=!1}))},payOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/fan630/pay/".concat(this.orderId);this.isLoading=!0,this.$http.post(s).then((function(s){s.data.success&&t.getOrder(),t.isLoading=!1}))},backtocustomer:function(){this.$router.push("/shop")}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},d=i,o=e("2877"),c=Object(o["a"])(d,r,a,!1,null,null,null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0ab0b6.35cdcc25.js.map